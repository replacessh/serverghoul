{"version":3,"file":"static/js/442.7e2ace09.chunk.js","mappings":"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","sources":["pages/ProductDetails.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToCart } from '../store/slices/cartSlice';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Rating,\r\n  Alert,\r\n  CircularProgress,\r\n  TextField,\r\n  Divider,\r\n  Avatar,\r\n  Chip,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  SelectChangeEvent,\r\n  useTheme,\r\n  alpha,\r\n  IconButton,\r\n  Stack\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Share as ShareIcon,\r\n  Edit as EditIcon,\r\n  NavigateNext as NavigateNextIcon,\r\n  NavigateBefore as NavigateBeforeIcon,\r\n  ZoomIn as ZoomInIcon\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst PRODUCTS_STORAGE_KEY = 'admin_products';\r\n\r\ninterface Review {\r\n  id: string;\r\n  rating: number;\r\n  comment: string;\r\n  createdAt: string;\r\n  author: {\r\n    id: string;\r\n    name: string;\r\n  };\r\n}\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  images: string[];\r\n  category: string;\r\n  stock: number;\r\n  reviews: Review[];\r\n  sizes: string[];\r\n  rating: number;\r\n  details: {\r\n    material: string;\r\n    care: string;\r\n    country: string;\r\n  };\r\n}\r\n\r\nconst ProductDetails: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedSize, setSelectedSize] = useState<string>('');\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [reviewForm, setReviewForm] = useState({\r\n    rating: 5,\r\n    comment: ''\r\n  });\r\n  const [submittingReview, setSubmittingReview] = useState(false);\r\n  const { token, user } = useAuth();\r\n  const dispatch = useDispatch();\r\n  const theme = useTheme();\r\n  const [isZoomed, setIsZoomed] = useState(false);\r\n  const [zoomPosition, setZoomPosition] = useState({ x: 0, y: 0 });\r\n\r\n  useEffect(() => {\r\n    const loadProduct = () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        const savedProducts = localStorage.getItem(PRODUCTS_STORAGE_KEY);\r\n        if (!savedProducts) {\r\n          throw new Error('Товары не найдены');\r\n        }\r\n\r\n        const products = JSON.parse(savedProducts);\r\n        const foundProduct = products.find((p: Product) => p.id === id);\r\n\r\n        if (!foundProduct) {\r\n          throw new Error('Товар не найден');\r\n        }\r\n\r\n        setProduct(foundProduct);\r\n      } catch (err) {\r\n        console.error('Error loading product:', err);\r\n        setError(err instanceof Error ? err.message : 'Произошла ошибка при загрузке товара');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (id) {\r\n      loadProduct();\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'ArrowLeft') {\r\n        handlePrevImage();\r\n      } else if (e.key === 'ArrowRight') {\r\n        handleNextImage();\r\n      } else if (e.key === 'Escape') {\r\n        setIsZoomed(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, []);\r\n\r\n  const handleSizeChange = (event: SelectChangeEvent) => {\r\n    setSelectedSize(event.target.value);\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    if (!token) {\r\n      setError('Для добавления в корзину необходимо авторизоваться');\r\n      return;\r\n    }\r\n\r\n    if (!product) return;\r\n\r\n    if (product.sizes?.length > 0 && !selectedSize) {\r\n      setError('Выберите размер');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      dispatch(addToCart({\r\n        id: product.id,\r\n        productId: product.id,\r\n        name: product.name,\r\n        price: product.price,\r\n        quantity: 1,\r\n        size: selectedSize || 'default',\r\n        image: product.imageUrl\r\n      }));\r\n\r\n      alert('Товар добавлен в корзину');\r\n    } catch (err) {\r\n      console.error('Error adding to cart:', err);\r\n      setError('Произошла ошибка при добавлении в корзину');\r\n    }\r\n  };\r\n\r\n  const handleShareClick = () => {\r\n    if (!product) return;\r\n\r\n    const shareData = {\r\n      title: product.name,\r\n      text: product.description,\r\n      url: window.location.href\r\n    };\r\n\r\n    if (navigator.share) {\r\n      navigator.share(shareData)\r\n        .catch((error) => {\r\n          console.error('Ошибка при попытке поделиться:', error);\r\n        });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href)\r\n        .then(() => {\r\n          alert('Ссылка скопирована в буфер обмена');\r\n        })\r\n        .catch((error) => {\r\n          console.error('Ошибка при копировании:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleEditClick = () => {\r\n    navigate(`/admin/products/${id}/edit`);\r\n  };\r\n\r\n  const handleReviewSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!token) {\r\n      setError('Для добавления отзыва необходимо авторизоваться');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSubmittingReview(true);\r\n      if (product) {\r\n        const newReview = {\r\n          id: Date.now().toString(),\r\n          rating: reviewForm.rating,\r\n          comment: reviewForm.comment,\r\n          createdAt: new Date().toISOString(),\r\n          author: {\r\n            id: user?.id || '',\r\n            name: user?.name || 'Аноним'\r\n          }\r\n        };\r\n\r\n        const updatedProduct = {\r\n          ...product,\r\n          reviews: [...(product.reviews || []), newReview]\r\n        };\r\n\r\n        const savedProducts = localStorage.getItem(PRODUCTS_STORAGE_KEY);\r\n        if (savedProducts) {\r\n          const products = JSON.parse(savedProducts);\r\n          const updatedProducts = products.map((p: Product) => \r\n            p.id === product.id ? updatedProduct : p\r\n          );\r\n          localStorage.setItem(PRODUCTS_STORAGE_KEY, JSON.stringify(updatedProducts));\r\n          setProduct(updatedProduct);\r\n        }\r\n\r\n        setReviewForm({\r\n          rating: 5,\r\n          comment: ''\r\n        });\r\n        setError(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error submitting review:', err);\r\n      setError('Произошла ошибка при добавлении отзыва');\r\n    } finally {\r\n      setSubmittingReview(false);\r\n    }\r\n  };\r\n\r\n  const handleReviewChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setReviewForm(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleRatingChange = (event: React.SyntheticEvent, newValue: number | null) => {\r\n    if (newValue !== null) {\r\n      setReviewForm(prev => ({\r\n        ...prev,\r\n        rating: newValue\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleNextImage = () => {\r\n    if (product?.images) {\r\n      setSelectedImage((prev) => (prev + 1) % product.images.length);\r\n      setIsZoomed(false);\r\n    }\r\n  };\r\n\r\n  const handlePrevImage = () => {\r\n    if (product?.images) {\r\n      setSelectedImage((prev) => (prev - 1 + product.images.length) % product.images.length);\r\n      setIsZoomed(false);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLImageElement>) => {\r\n    if (!isZoomed) return;\r\n    \r\n    const { left, top, width, height } = e.currentTarget.getBoundingClientRect();\r\n    const x = ((e.clientX - left) / width) * 100;\r\n    const y = ((e.clientY - top) / height) * 100;\r\n    setZoomPosition({ x, y });\r\n  };\r\n\r\n  const handleImageClick = () => {\r\n    setIsZoomed(!isZoomed);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"60vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container>\r\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <Container>\r\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n          Товар не найден\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const averageRating = product.reviews?.length > 0\r\n    ? product.reviews.reduce((acc, review) => acc + review.rating, 0) / product.reviews.length\r\n    : 0;\r\n\r\n  const images = product.images || [product.imageUrl];\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <Button\r\n          startIcon={<ArrowBackIcon />}\r\n          onClick={() => navigate(-1)}\r\n          sx={{ \r\n            color: 'text.secondary',\r\n            '&:hover': {\r\n              backgroundColor: alpha(theme.palette.primary.main, 0.1)\r\n            }\r\n          }}\r\n        >\r\n          Назад\r\n        </Button>\r\n        {user?.role === 'ADMIN' && (\r\n          <Button\r\n            startIcon={<EditIcon />}\r\n            onClick={handleEditClick}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n          >\r\n            Редактировать\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      <Grid container spacing={4}>\r\n        <Grid item xs={12} md={6}>\r\n          <Paper\r\n            elevation={0}\r\n            sx={{\r\n              borderRadius: 3,\r\n              overflow: 'hidden',\r\n              backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n              backdropFilter: 'blur(10px)',\r\n              boxShadow: `0 4px 20px ${alpha(theme.palette.primary.main, 0.1)}`,\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                cursor: isZoomed ? 'zoom-out' : 'zoom-in'\r\n              }}\r\n            >\r\n              <Box\r\n                component=\"img\"\r\n                src={images[selectedImage]}\r\n                alt={product.name}\r\n                onClick={handleImageClick}\r\n                onMouseMove={handleMouseMove}\r\n                sx={{\r\n                  width: '100%',\r\n                  height: '500px',\r\n                  objectFit: 'cover',\r\n                  transition: 'transform 0.3s ease',\r\n                  transform: isZoomed ? 'scale(2)' : 'scale(1)',\r\n                  transformOrigin: `${zoomPosition.x}% ${zoomPosition.y}%`,\r\n                  '&:hover': {\r\n                    transform: isZoomed ? 'scale(2)' : 'scale(1.02)'\r\n                  }\r\n                }}\r\n              />\r\n              {!isZoomed && (\r\n                <>\r\n                  <IconButton\r\n                    onClick={handleImageClick}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      right: 16,\r\n                      bottom: 16,\r\n                      backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n                      '&:hover': {\r\n                        backgroundColor: alpha(theme.palette.background.paper, 0.9)\r\n                      }\r\n                    }}\r\n                  >\r\n                    <ZoomInIcon />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    onClick={handlePrevImage}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      left: 16,\r\n                      top: '50%',\r\n                      transform: 'translateY(-50%)',\r\n                      backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n                      '&:hover': {\r\n                        backgroundColor: alpha(theme.palette.background.paper, 0.9)\r\n                      }\r\n                    }}\r\n                  >\r\n                    <NavigateBeforeIcon />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    onClick={handleNextImage}\r\n                    sx={{\r\n                      position: 'absolute',\r\n                      right: 16,\r\n                      top: '50%',\r\n                      transform: 'translateY(-50%)',\r\n                      backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n                      '&:hover': {\r\n                        backgroundColor: alpha(theme.palette.background.paper, 0.9)\r\n                      }\r\n                    }}\r\n                  >\r\n                    <NavigateNextIcon />\r\n                  </IconButton>\r\n                </>\r\n              )}\r\n            </Box>\r\n\r\n            {images.length > 1 && (\r\n              <>\r\n                <Box sx={{ \r\n                  position: 'absolute',\r\n                  bottom: 16,\r\n                  left: '50%',\r\n                  transform: 'translateX(-50%)',\r\n                  display: 'flex',\r\n                  gap: 1\r\n                }}>\r\n                  {images.map((_, index) => (\r\n                    <Box\r\n                      key={index}\r\n                      sx={{\r\n                        width: 8,\r\n                        height: 8,\r\n                        borderRadius: '50%',\r\n                        backgroundColor: selectedImage === index \r\n                          ? theme.palette.primary.main \r\n                          : alpha(theme.palette.primary.main, 0.3),\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s ease',\r\n                        '&:hover': {\r\n                          backgroundColor: theme.palette.primary.main\r\n                        }\r\n                      }}\r\n                      onClick={() => {\r\n                        setSelectedImage(index);\r\n                        setIsZoomed(false);\r\n                      }}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </>\r\n            )}\r\n\r\n            {images.length > 1 && (\r\n              <Box sx={{ \r\n                display: 'flex', \r\n                gap: 1, \r\n                p: 2,\r\n                overflowX: 'auto',\r\n                '&::-webkit-scrollbar': {\r\n                  height: '4px'\r\n                },\r\n                '&::-webkit-scrollbar-thumb': {\r\n                  backgroundColor: alpha(theme.palette.primary.main, 0.2),\r\n                  borderRadius: '2px'\r\n                }\r\n              }}>\r\n                {images.map((image, index) => (\r\n                  <Box\r\n                    key={index}\r\n                    component=\"img\"\r\n                    src={image}\r\n                    alt={`${product.name} ${index + 1}`}\r\n                    onClick={() => {\r\n                      setSelectedImage(index);\r\n                      setIsZoomed(false);\r\n                    }}\r\n                    sx={{\r\n                      width: '80px',\r\n                      height: '80px',\r\n                      objectFit: 'cover',\r\n                      borderRadius: 1,\r\n                      cursor: 'pointer',\r\n                      border: selectedImage === index ? `2px solid ${theme.palette.primary.main}` : 'none',\r\n                      opacity: selectedImage === index ? 1 : 0.7,\r\n                      transition: 'all 0.2s ease',\r\n                      '&:hover': {\r\n                        opacity: 1\r\n                      }\r\n                    }}\r\n                  />\r\n                ))}\r\n              </Box>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} md={6}>\r\n          <Paper\r\n            elevation={0}\r\n            sx={{\r\n              p: 4,\r\n              borderRadius: 3,\r\n              backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n              backdropFilter: 'blur(10px)',\r\n              boxShadow: `0 4px 20px ${alpha(theme.palette.primary.main, 0.1)}`,\r\n            }}\r\n          >\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n              <Typography variant=\"h4\" component=\"h1\" sx={{ fontWeight: 600 }}>\r\n                {product.name}\r\n              </Typography>\r\n              <IconButton\r\n                onClick={handleShareClick}\r\n                sx={{\r\n                  color: 'text.secondary',\r\n                  '&:hover': {\r\n                    backgroundColor: alpha(theme.palette.primary.main, 0.1)\r\n                  }\r\n                }}\r\n              >\r\n                <ShareIcon />\r\n              </IconButton>\r\n            </Box>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"h5\" color=\"primary\" sx={{ fontWeight: 700 }}>\r\n                {product.price.toLocaleString('ru-RU')} ₽\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mt: 1 }}>\r\n                <Rating value={averageRating} precision={0.5} readOnly />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {product.reviews?.length || 0} отзывов\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Typography variant=\"body1\" paragraph sx={{ color: 'text.secondary' }}>\r\n              {product.description}\r\n            </Typography>\r\n\r\n            {product.details && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Детали товара\r\n                </Typography>\r\n                <Grid container spacing={2}>\r\n                  {product.details.material && (\r\n                    <Grid item xs={12} sm={4}>\r\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                        Материал\r\n                      </Typography>\r\n                      <Typography variant=\"body1\">\r\n                        {product.details.material}\r\n                      </Typography>\r\n                    </Grid>\r\n                  )}\r\n                  {product.details.care && (\r\n                    <Grid item xs={12} sm={4}>\r\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                        Уход\r\n                      </Typography>\r\n                      <Typography variant=\"body1\">\r\n                        {product.details.care}\r\n                      </Typography>\r\n                    </Grid>\r\n                  )}\r\n                  {product.details.country && (\r\n                    <Grid item xs={12} sm={4}>\r\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">\r\n                        Страна производства\r\n                      </Typography>\r\n                      <Typography variant=\"body1\">\r\n                        {product.details.country}\r\n                      </Typography>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </Box>\r\n            )}\r\n\r\n            {product.sizes?.length > 0 && (\r\n              <FormControl fullWidth sx={{ mb: 3 }}>\r\n                <InputLabel>Размер</InputLabel>\r\n                <Select\r\n                  value={selectedSize}\r\n                  onChange={handleSizeChange}\r\n                  label=\"Размер\"\r\n                  sx={{\r\n                    '& .MuiSelect-select': {\r\n                      py: 1.5\r\n                    }\r\n                  }}\r\n                >\r\n                  {product.sizes.map((size) => (\r\n                    <MenuItem key={size} value={size}>\r\n                      {size}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            )}\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleAddToCart}\r\n              fullWidth\r\n              sx={{\r\n                py: 1.5,\r\n                borderRadius: 2,\r\n                textTransform: 'none',\r\n                fontWeight: 600,\r\n                fontSize: '1.1rem',\r\n                boxShadow: 'none',\r\n                '&:hover': {\r\n                  boxShadow: `0 4px 12px ${alpha(theme.palette.primary.main, 0.3)}`\r\n                }\r\n              }}\r\n            >\r\n              В корзину\r\n            </Button>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Отзывы */}\r\n      <Box sx={{ mt: 4 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          Отзывы\r\n        </Typography>\r\n\r\n        {user && (\r\n          <Paper\r\n            elevation={0}\r\n            sx={{\r\n              p: 4,\r\n              mb: 3,\r\n              borderRadius: 3,\r\n              backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n              backdropFilter: 'blur(10px)',\r\n              boxShadow: `0 4px 20px ${alpha(theme.palette.primary.main, 0.1)}`,\r\n            }}\r\n          >\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Оставить отзыв\r\n            </Typography>\r\n            <form onSubmit={handleReviewSubmit}>\r\n              <Box sx={{ mb: 2 }}>\r\n                <Typography component=\"legend\">Оценка</Typography>\r\n                <Rating\r\n                  name=\"rating\"\r\n                  value={reviewForm.rating}\r\n                  onChange={handleRatingChange}\r\n                />\r\n              </Box>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Ваш отзыв\"\r\n                name=\"comment\"\r\n                value={reviewForm.comment}\r\n                onChange={handleReviewChange}\r\n                multiline\r\n                rows={4}\r\n                required\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={submittingReview}\r\n                sx={{\r\n                  py: 1.5,\r\n                  borderRadius: 2,\r\n                  textTransform: 'none',\r\n                  fontWeight: 600,\r\n                  boxShadow: 'none',\r\n                  '&:hover': {\r\n                    boxShadow: `0 4px 12px ${alpha(theme.palette.primary.main, 0.3)}`\r\n                  }\r\n                }}\r\n              >\r\n                {submittingReview ? 'Отправка...' : 'Отправить отзыв'}\r\n              </Button>\r\n            </form>\r\n          </Paper>\r\n        )}\r\n\r\n        {product.reviews?.length > 0 ? (\r\n          product.reviews.map((review) => (\r\n            <Paper\r\n              key={review.id}\r\n              elevation={0}\r\n              sx={{\r\n                p: 4,\r\n                mb: 2,\r\n                borderRadius: 3,\r\n                backgroundColor: alpha(theme.palette.background.paper, 0.8),\r\n                backdropFilter: 'blur(10px)',\r\n                boxShadow: `0 4px 20px ${alpha(theme.palette.primary.main, 0.1)}`,\r\n              }}\r\n            >\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                <Avatar sx={{ bgcolor: 'primary.main', mr: 2 }}>\r\n                  {review.author.name[0]}\r\n                </Avatar>\r\n                <Box>\r\n                  <Typography variant=\"subtitle1\">\r\n                    {review.author.name}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {new Date(review.createdAt).toLocaleDateString()}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n              <Rating value={review.rating} readOnly size=\"small\" sx={{ mb: 1 }} />\r\n              <Typography variant=\"body1\">\r\n                {review.comment}\r\n              </Typography>\r\n            </Paper>\r\n          ))\r\n        ) : (\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Пока нет отзывов. Будьте первым, кто оставит отзыв!\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProductDetails; "],"names":["PRODUCTS_STORAGE_KEY","ProductDetails","_product$reviews","_product$reviews2","_product$sizes2","_product$reviews3","id","useParams","navigate","useNavigate","product","setProduct","useState","loading","setLoading","error","setError","selectedSize","setSelectedSize","selectedImage","setSelectedImage","reviewForm","setReviewForm","rating","comment","submittingReview","setSubmittingReview","token","user","useAuth","dispatch","useDispatch","theme","useTheme","isZoomed","setIsZoomed","zoomPosition","setZoomPosition","x","y","useEffect","loadProduct","savedProducts","localStorage","getItem","Error","foundProduct","JSON","parse","find","p","err","console","message","handleKeyDown","e","key","handlePrevImage","handleNextImage","window","addEventListener","removeEventListener","images","prev","length","handleImageClick","_jsx","Box","display","justifyContent","alignItems","minHeight","children","CircularProgress","Container","Alert","severity","sx","mt","averageRating","reviews","reduce","acc","review","imageUrl","_jsxs","maxWidth","py","mb","Button","startIcon","ArrowBackIcon","onClick","color","backgroundColor","alpha","palette","primary","main","role","EditIcon","handleEditClick","variant","Grid","container","spacing","item","xs","md","Paper","elevation","borderRadius","overflow","background","paper","backdropFilter","boxShadow","position","cursor","component","src","alt","name","onMouseMove","left","top","width","height","currentTarget","getBoundingClientRect","clientX","clientY","objectFit","transition","transform","transformOrigin","_Fragment","IconButton","right","bottom","ZoomInIcon","NavigateBeforeIcon","NavigateNextIcon","gap","map","_","index","overflowX","image","border","opacity","Typography","fontWeight","handleShareClick","shareData","title","text","description","url","location","href","navigator","share","catch","clipboard","writeText","then","alert","ShareIcon","price","toLocaleString","Rating","value","precision","readOnly","paragraph","details","gutterBottom","material","sm","care","country","sizes","FormControl","fullWidth","InputLabel","Select","onChange","event","target","label","size","MenuItem","handleAddToCart","_product$sizes","addToCart","productId","quantity","textTransform","fontSize","onSubmit","preventDefault","newReview","Date","now","toString","createdAt","toISOString","author","updatedProduct","updatedProducts","setItem","stringify","handleRatingChange","newValue","TextField","multiline","rows","required","type","disabled","Avatar","bgcolor","mr","toLocaleDateString"],"sourceRoot":""}