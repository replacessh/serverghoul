"use strict";(self.webpackChunkshop_client=self.webpackChunkshop_client||[]).push([[855],{1637:(e,r,t)=>{t.d(r,{A:()=>N});var a=t(8587),o=t(8168),s=t(5043),n=t(8387),i=t(8610),l=t(3290),c=t(6803),d=t(8206),u=t(4535),m=t(2532),h=t(2372);function v(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,m.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=t(579);const A=["className","color","disableShrink","size","style","thickness","value","variant"];let x,f,y,k,g=e=>e;const b=44,S=(0,l.i7)(x||(x=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),C=(0,l.i7)(f||(f=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),j=(0,u.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,c.A)(t.color)}`]]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.A)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&(0,l.AH)(y||(y=g`
      animation: ${0} 1.4s linear infinite;
    `),S)})),w=(0,u.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),M=(0,u.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${(0,c.A)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})((e=>{let{ownerState:r,theme:t}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:r}=e;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.AH)(k||(k=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),C)})),N=s.forwardRef((function(e,r){const t=(0,d.b)({props:e,name:"MuiCircularProgress"}),{className:s,color:l="primary",disableShrink:u=!1,size:m=40,style:h,thickness:x=3.6,value:f=0,variant:y="indeterminate"}=t,k=(0,a.A)(t,A),g=(0,o.A)({},t,{color:l,disableShrink:u,size:m,thickness:x,value:f,variant:y}),S=(e=>{const{classes:r,variant:t,color:a,disableShrink:o}=e,s={root:["root",t,`color${(0,c.A)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(t)}`,o&&"circleDisableShrink"]};return(0,i.A)(s,v,r)})(g),C={},N={},R={};if("determinate"===y){const e=2*Math.PI*((b-x)/2);C.strokeDasharray=e.toFixed(3),R["aria-valuenow"]=Math.round(f),C.strokeDashoffset=`${((100-f)/100*e).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,p.jsx)(j,(0,o.A)({className:(0,n.A)(S.root,s),style:(0,o.A)({width:m,height:m},N,h),ownerState:g,ref:r,role:"progressbar"},R,k,{children:(0,p.jsx)(w,{className:S.svg,ownerState:g,viewBox:"22 22 44 44",children:(0,p.jsx)(M,{className:S.circle,style:C,ownerState:g,cx:b,cy:b,r:(b-x)/2,fill:"none",strokeWidth:x})})}))}))},2110:(e,r,t)=>{t.d(r,{A:()=>x});var a=t(8168),o=t(8587),s=t(5043),n=t(8387),i=t(8610),l=t(4535),c=t(8206),d=t(3336),u=t(2532),m=t(2372);function h(e){return(0,m.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var v=t(579);const p=["className","raised"],A=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"}))),x=s.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiCard"}),{className:s,raised:l=!1}=t,d=(0,o.A)(t,p),u=(0,a.A)({},t,{raised:l}),m=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},h,r)})(u);return(0,v.jsx)(A,(0,a.A)({className:(0,n.A)(m.root,s),elevation:l?8:void 0,ref:r,ownerState:u},d))}))},6494:(e,r,t)=>{t.d(r,{A:()=>A});var a=t(8168),o=t(8587),s=t(5043),n=t(8387),i=t(8610),l=t(4535),c=t(8206),d=t(2532),u=t(2372);function m(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var h=t(579);const v=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),A=s.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiCardContent"}),{className:s,component:l="div"}=t,d=(0,o.A)(t,v),u=(0,a.A)({},t,{component:l}),A=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},m,r)})(u);return(0,h.jsx)(p,(0,a.A)({as:l,className:(0,n.A)(A.root,s),ownerState:u,ref:r},d))}))},9855:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var a=t(5043),o=t(4150),s=t(3336),n=t(5865),i=t(4194),l=t(6446),c=t(5795),d=t(1906),u=t(1637),m=t(2110),h=t(6494),v=t(6987),p=t(8869),A=t(9066),x=t(579);const f=()=>{const{enqueueSnackbar:e}=(0,v.dh)(),{user:r}=(0,A.As)(),[t,f]=(0,a.useState)(!1),[y,k]=(0,a.useState)(null),[g,b]=(0,a.useState)({title:"",description:""}),[S,C]=(0,a.useState)([]),j=(0,a.useCallback)((async()=>{try{const e=await p.A.get("/support/tickets");C(e.data)}catch(r){console.error("Error fetching support tickets:",r),e("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u0438\u043a\u0435\u0442\u043e\u0432",{variant:"error"})}}),[e]);(0,a.useEffect)((()=>{r&&j()}),[r,j]);const w=e=>{const{name:r,value:t}=e.target;b((e=>({...e,[r]:t})))};return(0,x.jsx)(o.A,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,x.jsxs)(s.A,{elevation:3,sx:{p:4},children:[(0,x.jsx)(n.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"}),(0,x.jsx)(n.A,{variant:"body1",paragraph:!0,children:"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0438\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443 \u043d\u0438\u0436\u0435. \u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f."}),y&&(0,x.jsx)(i.A,{severity:"error",sx:{mb:2},onClose:()=>k(null),children:y}),(0,x.jsxs)(l.A,{component:"form",onSubmit:async t=>{if(t.preventDefault(),g.title.trim()&&g.description.trim()){f(!0),k(null);try{await p.A.post("/support",{title:g.title,description:g.description,userId:null===r||void 0===r?void 0:r.id}),e("\u0422\u0438\u043a\u0435\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",{variant:"success"}),b({title:"",description:""}),await j()}catch(s){var a,o;console.error("Error creating support ticket:",s),k((null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0438\u043a\u0435\u0442\u0430"),e("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0438\u043a\u0435\u0442\u0430",{variant:"error"})}finally{f(!1)}}else k("\u0412\u0441\u0435 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")},noValidate:!0,children:[(0,x.jsx)(c.A,{name:"title",label:"\u0422\u0435\u043c\u0430",value:g.title,onChange:w,fullWidth:!0,required:!0,margin:"normal",error:!!y&&!g.title.trim()}),(0,x.jsx)(c.A,{name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b",value:g.description,onChange:w,fullWidth:!0,required:!0,multiline:!0,rows:4,margin:"normal",error:!!y&&!g.description.trim()}),(0,x.jsx)(l.A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:(0,x.jsx)(d.A,{type:"submit",variant:"contained",color:"primary",disabled:t,sx:{minWidth:120},children:t?(0,x.jsx)(u.A,{size:24}):"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]}),S.length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.A,{variant:"h6",component:"h2",sx:{mt:4,mb:2},children:"\u0412\u0430\u0448\u0438 \u0442\u0438\u043a\u0435\u0442\u044b"}),S.map((e=>(0,x.jsx)(m.A,{sx:{mb:2},children:(0,x.jsxs)(h.A,{children:[(0,x.jsx)(n.A,{variant:"h6",component:"div",children:e.title}),(0,x.jsx)(n.A,{color:"text.secondary",sx:{mb:2},children:e.description}),(0,x.jsxs)(n.A,{variant:"body2",color:"text.secondary",children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",e.status]}),(0,x.jsxs)(n.A,{variant:"body2",color:"text.secondary",children:["\u0421\u043e\u0437\u0434\u0430\u043d: ",new Date(e.createdAt).toLocaleString()]})]})},e.id)))]})]})})}}}]);
//# sourceMappingURL=855.de9bf8b2.chunk.js.map