"use strict";(self.webpackChunkshop_client=self.webpackChunkshop_client||[]).push([[625],{141:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(9662),s=a(579);const i=(0,r.A)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},2143:(e,t,a)=>{a.d(t,{A:()=>S});var r=a(8587),s=a(8168),i=a(5043),n=a(8387),l=a(8610),o=a(7266),d=a(4535),c=a(1475),u=a(8206),p=a(1347),m=a(6236),x=a(5013),h=a(5849),g=a(5658),b=a(1424),v=a(5671),A=a(2532),y=a(2372);function j(e){return(0,y.Ay)("MuiMenuItem",e)}const f=(0,A.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var C=a(579);const k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],$=(0,d.Ay)(m.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${f.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${f.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${f.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,o.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${f.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${f.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${g.A.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${g.A.inset}`]:{marginLeft:52},[`& .${v.A.root}`]:{marginTop:0,marginBottom:0},[`& .${v.A.inset}`]:{paddingLeft:36},[`& .${b.A.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,s.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${b.A.root} svg`]:{fontSize:"1.25rem"}}))})),S=i.forwardRef((function(e,t){const a=(0,u.b)({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:d="li",dense:c=!1,divider:m=!1,disableGutters:g=!1,focusVisibleClassName:b,role:v="menuitem",tabIndex:A,className:y}=a,f=(0,r.A)(a,k),S=i.useContext(p.A),w=i.useMemo((()=>({dense:c||S.dense||!1,disableGutters:g})),[S.dense,c,g]),X=i.useRef(null);(0,x.A)((()=>{o&&X.current&&X.current.focus()}),[o]);const W=(0,s.A)({},a,{dense:w.dense,divider:m,disableGutters:g}),O=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:i,selected:n,classes:o}=e,d={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",n&&"selected"]},c=(0,l.A)(d,j,o);return(0,s.A)({},o,c)})(a),I=(0,h.A)(X,t);let M;return a.disabled||(M=void 0!==A?A:-1),(0,C.jsx)(p.A.Provider,{value:w,children:(0,C.jsx)($,(0,s.A)({ref:I,role:v,tabIndex:M,component:d,focusVisibleClassName:(0,n.A)(O.focusVisible,b),className:(0,n.A)(O.root,y)},f,{ownerState:W,classes:O}))})}))},3768:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(9662),s=a(579);const i=(0,r.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7332:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(9662),s=a(579);const i=(0,r.A)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},8625:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var r=a(5043),s=a(3216),i=a(6240),n=a(6446),l=a(5865),o=a(4150),d=a(4194),c=a(1906),u=a(310),p=a(8903),m=a(3336),x=a(5795),h=a(7392),g=a(3845),b=a(3193),v=a(9190),A=a(1659),y=a(2143),j=a(7332),f=a(3768),C=a(141),k=a(579);const $="admin_products",S=()=>{var e,t,a,S,w;const{id:X}=(0,s.g)(),W=(0,s.Zp)(),O=(0,i.A)(),[I,M]=(0,r.useState)(null),[z,R]=(0,r.useState)(!0),[B,H]=(0,r.useState)(null),[L,N]=(0,r.useState)(null),[V,F]=(0,r.useState)(""),[E,G]=(0,r.useState)(0),[T,D]=(0,r.useState)(""),[J,_]=(0,r.useState)("");(0,r.useEffect)((()=>{X&&(()=>{try{R(!0),H(null);const e=localStorage.getItem($);if(!e)throw new Error("\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b");const t=JSON.parse(e).find((e=>e.id===X));if(!t)throw new Error("\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");t.images||(t.images=[t.imageUrl]),M(t)}catch(e){console.error("Error loading product:",e),H(e instanceof Error?e.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0442\u043e\u0432\u0430\u0440\u0430")}finally{R(!1)}})()}),[X]);const P=e=>{const{name:t,value:a}=e.target;M((e=>e?{...e,[t]:a}:null))},U=e=>{const{name:t,value:a}=e.target;M((e=>e?{...e,details:{...e.details,[t]:a}}:null))},Z=()=>{J?(M((e=>{if(!e)return null;const t=e.sizes||[];return t.includes(J)?e:{...e,sizes:[...t,J]}})),_("")):T.trim()&&(M((e=>{if(!e)return null;const t=e.sizes||[];return t.includes(T.trim())?e:{...e,sizes:[...t,T.trim()]}})),D(""))};return z?(0,k.jsx)(n.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,k.jsx)(l.A,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}):B?(0,k.jsx)(o.A,{children:(0,k.jsx)(d.A,{severity:"error",sx:{mt:2},children:B})}):I?(0,k.jsxs)(o.A,{maxWidth:"lg",sx:{py:4},children:[(0,k.jsxs)(n.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsx)(c.A,{startIcon:(0,k.jsx)(j.A,{}),onClick:()=>W(-1),sx:{color:"text.secondary","&:hover":{backgroundColor:(0,u.X4)(O.palette.primary.main,.1)}},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,k.jsx)(c.A,{variant:"contained",onClick:()=>{try{const e=localStorage.getItem($);if(!e)throw new Error("\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b");const t=JSON.parse(e).map((e=>e.id===X?I:e));localStorage.setItem($,JSON.stringify(t)),N("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),setTimeout((()=>{W("/admin/products")}),1500)}catch(e){console.error("Error saving product:",e),H("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430")}},disabled:!I,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),L&&(0,k.jsx)(d.A,{severity:"success",sx:{mb:3},children:L}),(0,k.jsxs)(p.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(m.A,{elevation:0,sx:{p:4,borderRadius:3,backgroundColor:(0,u.X4)(O.palette.background.paper,.8),backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${(0,u.X4)(O.palette.primary.main,.1)}`},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",value:I.name,onChange:P,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",value:I.description,onChange:P,multiline:!0,rows:4,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u0426\u0435\u043d\u0430",name:"price",type:"number",value:I.price,onChange:P,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",name:"category",value:I.category,onChange:P,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435",name:"stock",type:"number",value:I.stock,onChange:P})]})}),(0,k.jsxs)(p.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsxs)(m.A,{elevation:0,sx:{p:4,borderRadius:3,backgroundColor:(0,u.X4)(O.palette.background.paper,.8),backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${(0,u.X4)(O.palette.primary.main,.1)}`},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),(0,k.jsx)(n.A,{sx:{mb:3},children:null===(e=I.images)||void 0===e?void 0:e.map(((e,t)=>(0,k.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:2,p:2,borderRadius:1,backgroundColor:(0,u.X4)(O.palette.background.paper,.5)},children:[(0,k.jsx)(n.A,{component:"img",src:e,alt:`\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ${t+1}`,sx:{width:100,height:100,objectFit:"cover",borderRadius:1,mr:2}}),(0,k.jsx)(x.A,{fullWidth:!0,value:e,onChange:e=>((e,t)=>{M((a=>a&&a.images?{...a,images:a.images.map(((a,r)=>r===t?e.target.value:a))}:a))})(e,t),sx:{mr:2}}),(0,k.jsx)(h.A,{onClick:()=>(e=>{M((t=>t&&t.images?{...t,images:t.images.filter(((t,a)=>a!==e))}:t))})(t),sx:{color:"error.main"},children:(0,k.jsx)(f.A,{})})]},t)))}),(0,k.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,k.jsx)(x.A,{fullWidth:!0,label:"URL \u043d\u043e\u0432\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",value:V,onChange:e=>F(e.target.value)}),(0,k.jsx)(c.A,{variant:"contained",onClick:()=>{V.trim()&&(M((e=>{if(!e)return null;const t=e.images||[];return t.includes(V.trim())?e:{...e,images:[...t,V.trim()]}})),F(""))},sx:{minWidth:"auto"},children:(0,k.jsx)(C.A,{})})]})]}),(0,k.jsxs)(m.A,{elevation:0,sx:{p:4,mt:3,borderRadius:3,backgroundColor:(0,u.X4)(O.palette.background.paper,.8),backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${(0,u.X4)(O.palette.primary.main,.1)}`},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"\u0420\u0430\u0437\u043c\u0435\u0440\u044b"}),(0,k.jsx)(n.A,{sx:{mb:3},children:null===(t=I.sizes)||void 0===t?void 0:t.map((e=>(0,k.jsx)(g.A,{label:e,onDelete:()=>(e=>{M((t=>t?{...t,sizes:t.sizes.filter((t=>t!==e))}:null))})(e),sx:{m:.5}},e)))}),(0,k.jsxs)(n.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,k.jsxs)(b.A,{fullWidth:!0,children:[(0,k.jsx)(v.A,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440"}),(0,k.jsx)(A.A,{value:J,onChange:e=>_(e.target.value),label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440",children:["XS","S","M","L","XL","XXL","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"].map((e=>(0,k.jsx)(y.A,{value:e,children:e},e)))})]}),(0,k.jsx)(c.A,{variant:"contained",onClick:Z,sx:{minWidth:"auto"},children:(0,k.jsx)(C.A,{})})]}),(0,k.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"\u0418\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0440\u0430\u0437\u043c\u0435\u0440:"}),(0,k.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041d\u043e\u0432\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440",value:T,onChange:e=>D(e.target.value)}),(0,k.jsx)(c.A,{variant:"contained",onClick:Z,sx:{minWidth:"auto"},children:(0,k.jsx)(C.A,{})})]})]}),(0,k.jsxs)(m.A,{elevation:0,sx:{p:4,mt:3,borderRadius:3,backgroundColor:(0,u.X4)(O.palette.background.paper,.8),backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${(0,u.X4)(O.palette.primary.main,.1)}`},children:[(0,k.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0442\u043e\u0432\u0430\u0440\u0430"}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",name:"material",value:(null===(a=I.details)||void 0===a?void 0:a.material)||"",onChange:U,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u0423\u0445\u043e\u0434",name:"care",value:(null===(S=I.details)||void 0===S?void 0:S.care)||"",onChange:U,sx:{mb:3}}),(0,k.jsx)(x.A,{fullWidth:!0,label:"\u0421\u0442\u0440\u0430\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",name:"country",value:(null===(w=I.details)||void 0===w?void 0:w.country)||"",onChange:U})]})]})]})]}):(0,k.jsx)(o.A,{children:(0,k.jsx)(d.A,{severity:"error",sx:{mt:2},children:"\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})})}}}]);
//# sourceMappingURL=625.e8ef2f49.chunk.js.map