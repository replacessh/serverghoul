"use strict";(self.webpackChunkshop_client=self.webpackChunkshop_client||[]).push([[244],{2505:(e,i,t)=>{var n=t(4994);i.A=void 0;var r=n(t(39)),s=t(579);i.A=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},3471:(e,i,t)=>{var n=t(4994);i.A=void 0;var r=n(t(39)),s=t(579);i.A=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},6164:(e,i,t)=>{var n=t(4994);i.A=void 0;var r=n(t(39)),s=t(579);i.A=(0,r.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove")},6591:(e,i,t)=>{t.d(i,{A:()=>g});var n=t(8587),r=t(8168),s=t(5043),o=t(8387),a=t(8610),c=t(8206),l=t(4535),d=t(2532),m=t(2372);function h(e){return(0,m.Ay)("MuiCardMedia",e)}(0,d.A)("MuiCardMedia",["root","media","img"]);var x=t(579);const u=["children","className","component","image","src","style"],A=(0,l.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e,{isMediaComponent:n,isImageComponent:r}=t;return[i.root,n&&i.media,r&&i.img]}})((e=>{let{ownerState:i}=e;return(0,r.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},i.isMediaComponent&&{width:"100%"},i.isImageComponent&&{objectFit:"cover"})})),j=["video","audio","picture","iframe","img"],p=["picture","img"],g=s.forwardRef((function(e,i){const t=(0,c.b)({props:e,name:"MuiCardMedia"}),{children:s,className:l,component:d="div",image:m,src:g,style:y}=t,v=(0,n.A)(t,u),f=-1!==j.indexOf(d),C=!f&&m?(0,r.A)({backgroundImage:`url("${m}")`},y):y,b=(0,r.A)({},t,{component:d,isMediaComponent:f,isImageComponent:-1!==p.indexOf(d)}),k=(e=>{const{classes:i,isMediaComponent:t,isImageComponent:n}=e,r={root:["root",t&&"media",n&&"img"]};return(0,a.A)(r,h,i)})(b);return(0,x.jsx)(A,(0,r.A)({className:(0,o.A)(k.root,l),as:d,role:!f&&m?"img":void 0,ref:i,style:C,ownerState:b,src:f?m||g:void 0},v,{children:s}))}))},9120:(e,i,t)=>{var n=t(4994);i.A=void 0;var r=n(t(39)),s=t(579);i.A=(0,r.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},9244:(e,i,t)=>{t.r(i),t.d(i,{default:()=>N});var n=t(5043),r=t(9456),s=t(3216),o=t(4836),a=t(6446),c=t(1637),l=t(4150),d=t(1906),m=t(5865),h=t(4194),x=t(8903),u=t(2110),A=t(6494),j=t(6591),p=t(7392),g=t(5795),y=t(35),v=t(6600),f=t(5316),C=t(9347),b=t(3471),k=t(2505),z=t(6164),M=t(1334),S=t(9120),I=t(7478),w=t(9066),q=t(579);const H=n.forwardRef((function(e,i){return(0,q.jsx)(o.A,{direction:"up",ref:i,...e})})),E="local_cart",N=()=>{const e=(0,r.wA)(),i=(0,s.Zp)(),{token:t}=(0,w.As)(),o=(0,r.d4)((e=>e.cart.items)),[N,R]=(0,n.useState)(!1),[O,$]=(0,n.useState)(null),[B,_]=(0,n.useState)(null),[D,F]=(0,n.useState)(!1),[J,L]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(()=>{try{const i=localStorage.getItem(E);if(i){const t=JSON.parse(i);e((0,I.sX)()),t.forEach((i=>{e((0,I.bE)({id:i.id,productId:i.productId,name:i.name,price:i.price,quantity:i.quantity,size:i.size,image:i.image}))}))}}catch(i){console.error("Error loading cart from localStorage:",i),_("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u043e\u0440\u0437\u0438\u043d\u044b")}finally{L(!1)}})()}),[e]),(0,n.useEffect)((()=>{o.length>0?localStorage.setItem(E,JSON.stringify(o)):localStorage.removeItem(E)}),[o]);const P=(i,t,n)=>{if(!(n<1))try{F(!0),_(null),e((0,I.RO)({id:i,size:t,quantity:n}))}catch(r){console.error("Error updating quantity:",r),_("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430")}finally{F(!1)}},V=o.reduce(((e,i)=>e+i.price*i.quantity),0),W=o.reduce(((e,i)=>e+i.quantity),0),T=n.useMemo((()=>{const e=new Set;return o.filter((i=>{const t=`${i.id}-${i.size}`;return!e.has(t)&&(e.add(t),!0)}))}),[o]);return J?(0,q.jsx)(a.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,q.jsx)(c.A,{})}):(0,q.jsxs)(l.A,{maxWidth:"lg",sx:{py:4},children:[(0,q.jsxs)(a.A,{sx:{mb:4},children:[(0,q.jsx)(d.A,{startIcon:(0,q.jsx)(S.A,{}),onClick:()=>i(-1),sx:{mb:2},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,q.jsx)(m.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,q.jsx)(h.A,{severity:"info",sx:{mb:2},children:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0432 \u043e\u0444\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e."}),B&&(0,q.jsx)(h.A,{severity:"error",sx:{mb:2},children:B})]}),0===T.length?(0,q.jsxs)(a.A,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",children:[(0,q.jsx)(M.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,q.jsx)(m.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),(0,q.jsx)(d.A,{variant:"contained",color:"primary",onClick:()=>i("/products"),sx:{mt:2},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u043e\u0432\u0430\u0440\u0430\u043c"})]}):(0,q.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,q.jsx)(x.Ay,{item:!0,xs:12,md:8,children:T.map((e=>(0,q.jsx)(u.A,{sx:{mb:2},children:(0,q.jsx)(A.A,{children:(0,q.jsxs)(x.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,q.jsx)(x.Ay,{item:!0,xs:12,sm:3,children:(0,q.jsx)(j.A,{component:"img",image:e.image,alt:e.name,sx:{height:100,objectFit:"contain"}})}),(0,q.jsxs)(x.Ay,{item:!0,xs:12,sm:6,children:[(0,q.jsx)(m.A,{variant:"h6",component:"h2",children:e.name}),(0,q.jsxs)(m.A,{color:"text.secondary",children:["\u0420\u0430\u0437\u043c\u0435\u0440: ",e.size]}),(0,q.jsxs)(m.A,{variant:"h6",color:"primary",children:[e.price," \u20bd"]})]}),(0,q.jsx)(x.Ay,{item:!0,xs:12,sm:3,children:(0,q.jsxs)(a.A,{display:"flex",alignItems:"center",justifyContent:"flex-end",children:[(0,q.jsx)(p.A,{onClick:()=>P(e.id,e.size,e.quantity-1),disabled:e.quantity<=1||D,children:(0,q.jsx)(z.A,{})}),(0,q.jsx)(g.A,{value:e.quantity,onChange:i=>{const t=parseInt(i.target.value);!isNaN(t)&&t>0&&P(e.id,e.size,t)},inputProps:{min:1,style:{textAlign:"center",width:"40px"}},disabled:D}),(0,q.jsx)(p.A,{onClick:()=>P(e.id,e.size,e.quantity+1),disabled:D,children:(0,q.jsx)(k.A,{})}),(0,q.jsx)(p.A,{onClick:()=>{return i=e.id,t=e.size,$({id:i,size:t}),void R(!0);var i,t},disabled:D,sx:{ml:1},children:(0,q.jsx)(b.A,{})})]})})]})})},`${e.id}-${e.size}`)))}),(0,q.jsx)(x.Ay,{item:!0,xs:12,md:4,children:(0,q.jsx)(u.A,{children:(0,q.jsxs)(A.A,{children:[(0,q.jsx)(m.A,{variant:"h6",gutterBottom:!0,children:"\u0418\u0442\u043e\u0433\u043e"}),(0,q.jsxs)(a.A,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,q.jsx)(m.A,{children:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432:"}),(0,q.jsx)(m.A,{children:W})]}),(0,q.jsxs)(a.A,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,q.jsx)(m.A,{children:"\u0421\u0443\u043c\u043c\u0430:"}),(0,q.jsxs)(m.A,{variant:"h6",color:"primary",children:[V," \u20bd"]})]}),(0,q.jsx)(d.A,{variant:"contained",color:"primary",fullWidth:!0,size:"large",onClick:()=>i("/checkout"),disabled:D,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})})})]}),(0,q.jsxs)(y.A,{open:N,TransitionComponent:H,keepMounted:!0,onClose:()=>R(!1),children:[(0,q.jsx)(v.A,{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440?"}),(0,q.jsx)(f.A,{children:(0,q.jsx)(m.A,{children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b?"})}),(0,q.jsxs)(C.A,{children:[(0,q.jsx)(d.A,{onClick:()=>R(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,q.jsx)(d.A,{onClick:()=>{if(O)try{_(null),e((0,I.dt)(O)),R(!1),$(null)}catch(i){console.error("Error removing item:",i),_("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430")}},color:"error",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})}}}]);
//# sourceMappingURL=244.86ac0d73.chunk.js.map